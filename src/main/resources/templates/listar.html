<!DOCTYPE html> 
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout/layout :: head"></head>
    <body>
        <header th:replace="layout/layout :: header"></header>

        <div class="container py-4">
            <div class="card-deck">
                <div class="card mb-4 text-white bg-success">
                    <div class="card-body">
                        <h2 class="card-title totalesCard" th:text="'$ ' + ${totalGeneralFacturas}"></h2>
                        <p class="card-text totalesCard"> <i class="fa fa-file"></i>&nbsp&nbsp Total facturas normales</p>
                    </div>
                </div>
                <div class="card mb-4 text-white bg-warning">
                    <div class="card-body">
                        <h2 class="card-title totalesCard" th:text="'$ ' + ${totalViajesFacturas}"></h2>
                        <p class="card-text totalesCard"><i class="fa fa-truck"></i>&nbsp&nbsp Total facturas de viajes</p>
                    </div>
                </div>
                <div class="card mb-4 text-white bg-danger">
                    <div class="card-body">
                        <h2 class="card-title totalesCard" th:text="'$ ' + ${totalDiferencia}"></h2>
                        <p class="card-text totalesCard"><i class="fa fa-calculator"></i>&nbsp&nbsp Diferencia</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="container py-4">
            <div class="card">
                <div class="card-header" th:text="${titulo}" style="font-weight: bold;"></div>
                <div class="card-body">
                    <h4 class="card-title">
                        <a class="btn btn-primary texto-blanco" th:href="@{/form}">Nuevo registro</a>
                    </h4>
                    <div class="panel-body table-responsive">
                        <table id="tablaFacturas" class="table table-striped">
                            <thead>
                                <tr>
                                    <th >ID</th>
                                    <th>Descripci√≥n</th>
                                    <th>Costo</th>
                                    <th>Fecha</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="factura:${facturas}">
                                    <td data-sortable="true" th:text="${factura.id}"></td>
                                    <td data-sortable="true" th:text="${factura.descripcion}"></td>
                                    <td data-sortable="true" th:text="'$ ' +${#numbers.formatDecimal(factura.costo, 1, 'DEFAULT', 2, 'DEFAULT')}"></td>
                                    <td data-sortable="true" th:text="${factura.fecha}"></td>
                                    <td>
                                        <a class="btn btn-warning btn-xs texto-blanco" th:href="@{/form/} + ${factura.id}">Editar</a>
                                    </td>
                                    <td>
                                        <a class="btn btn-danger btn-xs texto-blanco">Eliminar</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <footer th:replace="layout/layout :: footer"></footer>
    </body>
</html>